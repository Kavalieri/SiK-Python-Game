# üöÄ SiK Workflow System - Gu√≠a de Migraci√≥n a Otros Proyectos

## **Para Agentes de IA y Desarrolladores**

Esta gu√≠a permite implementar el **Sistema de Workflow SiK** en cualquier repositorio de Git, proporcionando un flujo de desarrollo profesional, robusto y completamente automatizado.

---

## **üìã ¬øQu√© es el Sistema SiK Workflow?**

Es un sistema de comandos unificado que **SIEMPRE** obliga a seguir el flujo:

**`Rama ‚Üí Cambios ‚Üí PR ‚Üí Review ‚Üí Merge ‚Üí Release`**

### **‚úÖ Caracter√≠sticas Principales:**
- ‚úÖ **Elimina commits directos a main** - SIEMPRE pasa por PR
- ‚úÖ **Workflow consistente** - 7 comandos simples
- ‚úÖ **Gesti√≥n autom√°tica de ramas** - Creaci√≥n, limpieza, navegaci√≥n
- ‚úÖ **PRs vinculados a issues** - Tracking autom√°tico
- ‚úÖ **Releases con builds autom√°ticos** - Ejecutables en GitHub
- ‚úÖ **Gesti√≥n de m√∫ltiples tareas** - Ramas separadas por contexto
- ‚úÖ **Stash inteligente** - Mueve cambios entre contextos

---

## **üîß Instalaci√≥n en Nuevo Proyecto**

### **Paso 1: Copiar Archivos Base**

```bash
# En el proyecto destino, crear estructura
mkdir -p dev-tools/scripts

# Copiar archivos principales desde SiK-Python-Game
cp dev-tools/scripts/sik-flow.ps1 [NUEVO_PROYECTO]/dev-tools/scripts/
cp dev-tools/scripts/build_professional.ps1 [NUEVO_PROYECTO]/dev-tools/scripts/  # Opcional

# Crear archivo de versi√≥n
echo "0.1.0" > VERSION.txt
```

### **Paso 2: Configurar Prerrequisitos**

```bash
# GitHub CLI (REQUERIDO)
winget install GitHub.cli
# o
choco install gh

# Configurar autenticaci√≥n
gh auth login

# Configurar Git
git config --global user.name "Tu Nombre"
git config --global user.email "tu@email.com"
```

### **Paso 3: Configurar PowerShell (Solo primera vez)**

```powershell
# Permitir ejecuci√≥n de scripts
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser

# Verificar configuraci√≥n
.\dev-tools\scripts\sik-flow.ps1 status
```

---

## **‚öôÔ∏è Adaptaciones por Tipo de Proyecto**

### **Proyectos Python**
```powershell
# Mantener build_professional.ps1 para ejecutables
# Asegurar structure:
# - src/main.py (punto de entrada)
# - requirements.txt o pyproject.toml
# - VERSION.txt
```

### **Proyectos Node.js**
```powershell
# Modificar build_professional.ps1 para npm/yarn
# Cambiar en l√≠nea 18-19:
EntryPoint = "index.js"  # o "src/index.js"
# A√±adir package.json como archivo requerido
```

### **Proyectos .NET**
```powershell
# Modificar build_professional.ps1 para dotnet publish
# Cambiar en l√≠nea 18-19:
EntryPoint = "Program.cs"  # o archivo principal
# A√±adir *.csproj como archivo requerido
```

### **Proyectos Solo Web (No Builds)**
```powershell
# Usar solo sik-flow.ps1 sin build_professional.ps1
# El comando 'release' funcionar√° sin generar ejecutables
```

---

## **üéØ Configuraci√≥n Espec√≠fica del Proyecto**

### **Modificar Variables Principales**

En `sik-flow.ps1`, l√≠neas 14-16:
```powershell
$ProjectRoot = $PWD
$MainBranch = "main"        # Cambiar si usas 'master' o 'develop'
$VersionFile = Join-Path $ProjectRoot "VERSION.txt"  # Ruta al archivo de versi√≥n
```

### **Adaptar Sistema de Build**

En `build_professional.ps1`, l√≠neas 24-32:
```powershell
$BuildConfig = @{
    ProjectName = "TU-PROYECTO-AQUI"      # Nombre del proyecto
    EntryPoint = "src\main.py"            # Archivo principal
    OutputDir = "dist"                    # Directorio de salida
    BuildDir = "build"                    # Directorio temporal
    AssetsDir = "assets"                  # Recursos (opcional)
    ConfigDir = "config"                  # Configuraci√≥n (opcional)
    IconFile = "assets\icon.ico"          # Icono (opcional)
    RequiredPython = "3.11"               # Versi√≥n m√≠nima Python
}
```

### **Personalizar Comandos de Build**

Para otros lenguajes, modificar la funci√≥n `Invoke-NuitkaBuild` en `build_professional.ps1`:

```powershell
# Para Node.js:
function Invoke-NodeBuild {
    npm run build
    # L√≥gica espec√≠fica
}

# Para .NET:
function Invoke-DotnetBuild {
    dotnet publish -c Release
    # L√≥gica espec√≠fica
}
```

---

## **üìù Uso del Sistema (Para Agentes de IA)**

### **Comando B√°sicos Obligatorios**

```powershell
# 1. SIEMPRE verificar estado primero
.\dev-tools\scripts\sik-flow.ps1 status

# 2. Crear nueva rama para cada tarea diferente
.\dev-tools\scripts\sik-flow.ps1 new -Rama "feature/nueva-funcionalidad" -Mensaje "Descripci√≥n clara"

# 3. Guardar cambios frecuentemente
.\dev-tools\scripts\sik-flow.ps1 save -Mensaje "Descripci√≥n espec√≠fica" -Push

# 4. Crear PR cuando est√© completo
.\dev-tools\scripts\sik-flow.ps1 pr -Mensaje "Funcionalidad completa" -Issue 123

# 5. Mergear solo despu√©s de review
.\dev-tools\scripts\sik-flow.ps1 merge -Mensaje "Merge nueva funcionalidad"

# 6. Release en hitos importantes
.\dev-tools\scripts\sik-flow.ps1 release -Version "1.1.0" -Mensaje "Nueva versi√≥n con X"
```

### **Gesti√≥n de M√∫ltiples Tareas**

**REGLA FUNDAMENTAL**: Una rama = Una tarea. NO mezclar contextos.

```powershell
# ‚ùå INCORRECTO: Mezclar login + men√∫ en misma rama
# ‚úÖ CORRECTO: Separar en ramas diferentes

# Ejemplo: Trabajando en login pero necesitas arreglar men√∫ urgente
.\dev-tools\scripts\sik-flow.ps1 save -Mensaje "WIP: login progress" -Push
.\dev-tools\scripts\sik-flow.ps1 switch -Rama main
.\dev-tools\scripts\sik-flow.ps1 new -Rama "bugfix/fix-menu" -Mensaje "Arreglar men√∫ cr√≠tico"
# [Arreglar men√∫]
.\dev-tools\scripts\sik-flow.ps1 save -Mensaje "Fix men√∫ cr√≠tico" -Push
.\dev-tools\scripts\sik-flow.ps1 pr -Mensaje "Fix: Corregir crash en men√∫"
.\dev-tools\scripts\sik-flow.ps1 merge -Mensaje "Fix men√∫ cr√≠tico"
# [Volver a login]
.\dev-tools\scripts\sik-flow.ps1 switch -Rama "feature/login"
```

### **Manejo de Cambios Pendientes**

```powershell
# Si tienes cambios y quieres nueva tarea:
# OPCI√ìN 1: Mover cambios a nueva rama
.\dev-tools\scripts\sik-flow.ps1 new -Rama "feature/nueva-tarea" -Mensaje "Nueva tarea" -TakeChanges

# OPCI√ìN 2: Guardar cambios primero
.\dev-tools\scripts\sik-flow.ps1 save -Mensaje "WIP: progreso actual" -Push
.\dev-tools\scripts\sik-flow.ps1 switch -Rama main
.\dev-tools\scripts\sik-flow.ps1 new -Rama "feature/nueva-tarea" -Mensaje "Nueva tarea"
```

---

## **üé® Convenciones de Nomenclatura**

### **Nombres de Ramas (SEGUIR ESTRICTAMENTE)**

```bash
feature/descripcion-clara     # Nuevas funcionalidades
bugfix/fix-descripcion       # Correcciones de bugs
hotfix/urgente-descripcion   # Correcciones urgentes
docs/actualizar-descripcion  # Cambios de documentaci√≥n
refactor/optimizar-parte     # Refactorizaci√≥n
test/a√±adir-tests-parte      # Tests nuevos
chore/mantener-parte         # Mantenimiento
```

### **Mensajes de Commit (Conventional Commits)**

```bash
feat: a√±adir sistema de login
fix: corregir crash en men√∫ principal
docs: actualizar README con nuevas instrucciones
refactor: optimizar renderizado de sprites
test: a√±adir tests unitarios para login
chore: actualizar dependencias
```

### **Versionado Sem√°ntico**

```bash
Major (X.0.0): Cambios incompatibles, reescrituras grandes
Minor (1.X.0): Nuevas funcionalidades compatibles
Patch (1.1.X): Correcciones de bugs, hotfixes
```

---

## **‚ö†Ô∏è Reglas Obligatorias para Agentes de IA**

### **üö´ NUNCA Hacer:**
- ‚ùå Commits directos a main
- ‚ùå Mezclar funcionalidades en una rama
- ‚ùå Omitir el flujo rama ‚Üí PR ‚Üí merge
- ‚ùå Crear ramas sin descripci√≥n clara
- ‚ùå Merge sin review (excepto hotfixes cr√≠ticos)

### **‚úÖ SIEMPRE Hacer:**
- ‚úÖ Verificar estado con `status` antes de cualquier operaci√≥n
- ‚úÖ Crear rama nueva para cada bloque de trabajo diferente
- ‚úÖ Usar `-TakeChanges` cuando cambies de contexto con cambios pendientes
- ‚úÖ Commits frecuentes con mensajes descriptivos
- ‚úÖ PRs con mensajes claros y vinculaci√≥n a issues
- ‚úÖ Merge solo despu√©s de confirmar que el PR es correcto

### **üîÑ Flujo de Emergencia (Solo para Hotfixes)**

```powershell
# Solo para correcciones cr√≠ticas urgentes
.\dev-tools\scripts\sik-flow.ps1 new -Rama "hotfix/critical-security" -Mensaje "Parche seguridad cr√≠tico"
.\dev-tools\scripts\sik-flow.ps1 save -Mensaje "fix: aplicar parche seguridad" -Push
.\dev-tools\scripts\sik-flow.ps1 pr -Mensaje "URGENT: Parche seguridad cr√≠tico"
# Review r√°pido
.\dev-tools\scripts\sik-flow.ps1 merge -Mensaje "Aplicar parche seguridad urgente"
.\dev-tools\scripts\sik-flow.ps1 release -Version "1.2.1" -Mensaje "URGENT: Parche seguridad"
```

---

## **üîß Soluci√≥n de Problemas Comunes**

### **Error: "No se reconoce el comando gh"**
```powershell
# Instalar GitHub CLI
winget install GitHub.cli
gh auth login
```

### **Error: "Execution Policy"**
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### **Error: "Cambios sin commitear"**
```powershell
# Ver qu√© cambios hay
.\dev-tools\scripts\sik-flow.ps1 status
# Guardar cambios
.\dev-tools\scripts\sik-flow.ps1 save -Mensaje "Descripci√≥n de cambios" -Push
```

### **Error: Build falla**
```powershell
# El sistema continuar√° y crear√° release sin ejecutable
# Revisar configuraci√≥n de Python/Node/.NET seg√∫n proyecto
```

### **Error: "No hay PR abierto"**
```powershell
# Crear PR primero
.\dev-tools\scripts\sik-flow.ps1 pr -Mensaje "Descripci√≥n del PR"
# Luego mergear
.\dev-tools\scripts\sik-flow.ps1 merge -Mensaje "Merge descripci√≥n"
```

---

## **üìä Validaci√≥n de Migraci√≥n Exitosa**

### **Test del Flujo Completo**
```powershell
# 1. Estado inicial
.\dev-tools\scripts\sik-flow.ps1 status

# 2. Crear rama de prueba
.\dev-tools\scripts\sik-flow.ps1 new -Rama "test/migration-validation" -Mensaje "Validar migraci√≥n del sistema"

# 3. Hacer cambio menor (ej: actualizar README)
echo "# Test de migraci√≥n" >> MIGRATION_TEST.md

# 4. Guardar cambios
.\dev-tools\scripts\sik-flow.ps1 save -Mensaje "test: validar sistema de workflow" -Push

# 5. Crear PR
.\dev-tools\scripts\sik-flow.ps1 pr -Mensaje "Test: Validaci√≥n de migraci√≥n de workflow"

# 6. Mergear
.\dev-tools\scripts\sik-flow.ps1 merge -Mensaje "Merge test de validaci√≥n"

# 7. Release de prueba
.\dev-tools\scripts\sik-flow.ps1 release -Version "0.1.1" -Mensaje "Test: Release de validaci√≥n"

# ‚úÖ Si todos los pasos funcionan = Migraci√≥n exitosa
```

---

## **üéâ Beneficios del Sistema Migrado**

### **Para Desarrollo Individual:**
- ‚úÖ Workflow predecible y sin errores
- ‚úÖ Historial limpio y profesional
- ‚úÖ Releases autom√°ticos con ejecutables
- ‚úÖ Gesti√≥n elegante de m√∫ltiples tareas

### **Para Equipos:**
- ‚úÖ Est√°ndar unificado de desarrollo
- ‚úÖ Review obligatorio de todos los cambios
- ‚úÖ Trazabilidad completa via issues
- ‚úÖ Releases consistentes y profesionales

### **Para Agentes de IA:**
- ‚úÖ Comandos simples y sin ambig√ºedad
- ‚úÖ Validaciones autom√°ticas que previenen errores
- ‚úÖ Flujo obligatorio que garantiza calidad
- ‚úÖ Capacidad de gestionar m√∫ltiples contextos sin conflictos

---

**El Sistema SiK Workflow transforma cualquier repositorio en un entorno de desarrollo profesional, seguro y eficiente. Una vez migrado, es imposible romper el flujo de calidad.**
